<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">

    <!--css-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/AdminAccess.css">

    <!--javascript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <script type="text/javascript" src="https://www.google.com/jsapi">
        </script>
        
        <script>
            google.load("visualization", "1", {packages:["corechart"]});
            google.setOnLoadCallback(dailyViews);
            google.setOnLoadCallback(products);
            google.setOnLoadCallback(customerAge);
            
            //PAGE VIEWS
            function dailyViews() {
                var barData = google.visualization.arrayToDataTable([
                    ['Day', 'Page Views', 'Unique Views'],
                    ['Sun',  1050,      600],
                    ['Mon',  1370,      910],
                    ['Tue',  660,       400],
                    ['Wed',  1030,      540],
                    ['Thu',  1000,      480],
                    ['Fri',  1170,      960],
                    ['Sat',  660,       320]
                ]);
                
                // set bar chart options
                var barOptions = {
                    focusTarget: 'category',
                    backgroundColor: 'transparent',
                    colors: ['#c08454', '#682100'],
                    fontName: 'Open Sans',
                    chartArea: {
                        left: 50,
                        top: 10,
                        width: '100%',
                        height: '70%'
                    },
                    bar: {
                    groupWidth: '80%'
                    },
                    hAxis: {
                        textStyle: {
                            fontSize: 11
                        }
                    },
                    vAxis: {
                    minValue: 0,
                    maxValue: 1500,
                    baselineColor: '#DDD',
                        gridlines: {
                            color: '#DDD',
                            count: 4
                        },
                        textStyle: {
                            fontSize: 11
                        }
                    },
                    legend: {
                    position: 'bottom',
                        textStyle: {
                            fontSize: 12
                        }
                    },
                    animation: {
                    duration: 1200,
                    easing: 'out',
                            startup: true
                    }
                };
                
           
                // draw bar chart twice so it animates
                var barChart = new google.visualization.ColumnChart(document.getElementById('bar-chart'));
                barChart.draw(barData, barOptions);
            }
            
            function weeklyViews() {
                var barData = google.visualization.arrayToDataTable([
                    ['Week', 'Page Views', 'Unique Views'],
                    ['WE1225',  5854,     5057],
                    ['WE0101',  5542,      1264],
                    ['WE0108',  5030,      900],
                    ['WE0115',  5354,      3070],
                    ['WE0122',  5064,      954],
                    ['WE0129',  5030,      940],
                    ['WE0205',  5000,      880]
                ]);
                
                // set bar chart options
                var barOptions = {
                    focusTarget: 'category',
                    backgroundColor: 'transparent',
                    colors: ['#c08454', '#682100'],
                    fontName: 'Open Sans',
                    chartArea: {
                        left: 50,
                        top: 10,
                        width: '100%',
                        height: '70%'
                    },
                    bar: {
                    groupWidth: '80%'
                    },
                    hAxis: {
                        textStyle: {
                            fontSize: 11
                        }
                    },
                    vAxis: {
                    minValue: 0,
                    maxValue: 1500,
                    baselineColor: '#DDD',
                        gridlines: {
                            color: '#DDD',
                            count: 4
                        },
                        textStyle: {
                            fontSize: 11
                        }
                    },
                    legend: {
                    position: 'bottom',
                        textStyle: {
                            fontSize: 12
                        }
                    },
                    animation: {
                    duration: 1200,
                    easing: 'out',
                            startup: true
                    }
                };
                
           
                // draw bar chart twice so it animates
                var barChart = new google.visualization.ColumnChart(document.getElementById('bar-chart'));
                barChart.draw(barData, barOptions);
            };
               
            function monthlyViews() {
                var barData = google.visualization.arrayToDataTable([
                    ['Month', 'Page Views', 'Unique Views'],
                    ['July',  45024,     20454],
                    ['August',  36542,      35864],
                    ['September',  42030,      37500],
                    ['October',  44354,       42670],
                    ['November',  47064,      44454],
                    ['December',  52030,      49540],
                    ['January',  50020,      42480]
                ]);
                
                // set bar chart options
                var barOptions = {
                    focusTarget: 'category',
                    backgroundColor: 'transparent',
                    colors: ['#c08454', '#682100'],
                    fontName: 'Open Sans',
                    chartArea: {
                        left: 50,
                        top: 10,
                        width: '100%',
                        height: '70%'
                    },
                    bar: {
                    groupWidth: '80%'
                    },
                    hAxis: {
                        textStyle: {
                            fontSize: 11
                        }
                    },
                    vAxis: {
                    minValue: 0,
                    maxValue: 1500,
                    baselineColor: '#DDD',
                        gridlines: {
                            color: '#DDD',
                            count: 4
                        },
                        textStyle: {
                            fontSize: 11
                        }
                    },
                    legend: {
                    position: 'bottom',
                        textStyle: {
                            fontSize: 12
                        }
                    },
                    animation: {
                    duration: 1200,
                    easing: 'out',
                            startup: true
                    }
                };
                
           
                // draw bar chart twice so it animates
                var barChart = new google.visualization.ColumnChart(document.getElementById('bar-chart'));
                barChart.draw(barData, barOptions);
            }

            //ONLINE HUB USERS
            function customerAge(){    
                // pie chart data
                var pieData = google.visualization.arrayToDataTable([
                    ['Age Bracket', 'Number of Users'],
                    ['66 years old and above',      1242],
                    ['51 - 65 years old',   4563],
                    ['31 - 50 years old',   1345],
                    ['21 - 30 years old',    946],
                    ['20 years old and below',  2150]
                ]);
                // pie chart options
                var pieOptions = {
                    backgroundColor: 'transparent',
                    pieHole: 0.4,
                    colors: [ "cornflowerblue", 
                            "olivedrab", 
                            "orange", 
                            "tomato", 
                            "crimson", 
                            "purple", 
                            "turquoise", 
                            "forestgreen", 
                            "navy", 
                            "gray"],
                    pieSliceText: 'value',
                    tooltip: {
                    text: 'percentage'
                    },
                    fontName: 'Open Sans',
                    chartArea: {
                    width: '100%',
                    height: '94%'
                    },
                    legend: {
                    textStyle: {
                        fontSize: 13
                    }
                    }
                };
                // draw pie chart
                var pieChart = new google.visualization.PieChart(document.getElementById('pie-chart'));
                pieChart.draw(pieData, pieOptions);
            };

            function customerGender(){    
                // pie chart data
                var pieData = google.visualization.arrayToDataTable([
                    ['Gender', 'Number of Users'],
                    ['Male',      2345],
                    ['Female',   4027],
                    ['Others',   1548],
                    ['Rather not say',    986]
                ]);
                // pie chart options
                var pieOptions = {
                    backgroundColor: 'transparent',
                    pieHole: 0.4,
                    colors: [ "cornflowerblue", 
                            "olivedrab", 
                            "orange", 
                            "tomato", 
                            "crimson", 
                            "purple", 
                            "turquoise", 
                            "forestgreen", 
                            "navy", 
                            "gray"],
                    pieSliceText: 'value',
                    tooltip: {
                    text: 'percentage'
                    },
                    fontName: 'Open Sans',
                    chartArea: {
                    width: '100%',
                    height: '94%'
                    },
                    legend: {
                    textStyle: {
                        fontSize: 13
                    }
                    }
                };
                // draw pie chart
                var pieChart = new google.visualization.PieChart(document.getElementById('pie-chart'));
                pieChart.draw(pieData, pieOptions);
            };
          
            //PRODUCTS
            function products(){
                function randomNumber(base, step) {
                    return Math.floor((Math.random()*step)+base);
                }
                function createData(year, start1, start2, step, offset) {
                    var ar = [];
                    for (var i = 0; i < 12; i++) {
                        ar.push([new Date(year, i), randomNumber(start1, step)+offset, randomNumber(start2, step)+offset]);
                    }
                    return ar;
                }
                var randomLineData = [
                    ['Year', 'Ready-to Wear', 'Custom Orders']
                ];
            for (var x = 0; x < 7; x++) {
                var newYear = createData(2015+x, 10000, 5000, 4000, 800*Math.pow(x,2));
                for (var n = 0; n < 12; n++) {
                    randomLineData.push(newYear.shift());
                }
            }
            
            var lineData = google.visualization.arrayToDataTable(randomLineData);
                
            var lineOptions = {
                backgroundColor: 'transparent',
                colors: ['#c08454', '#682100'],
                fontName: 'Open Sans',
                focusTarget: 'category',
                chartArea: {
                left: 50,
                top: 10,
                width: '100%',
                height: '70%'
                },
                hAxis: {
                //showTextEvery: 12,
                textStyle: {
                    fontSize: 11
                },
                baselineColor: 'transparent',
                gridlines: {
                    color: 'transparent'
                }
                },
                vAxis: {
                minValue: 0,
                maxValue: 50000,
                baselineColor: '#DDD',
                gridlines: {
                    color: '#DDD',
                    count: 4
                },
                textStyle: {
                    fontSize: 11
                }
                },
                legend: {
                position: 'bottom',
                textStyle: {
                    fontSize: 12
                }
                },
                animation: {
                duration: 1200,
                easing: 'out',
                        startup: true
                }
            };

            var lineChart = new google.visualization.LineChart(document.getElementById('line-chart'));
            
            lineChart.draw(lineData, lineOptions);
            
        };  

        </script>
        
        <!--jQuery-->
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>

    <script type="text/javascript">
        //popup
        function OpenPopup() {
            document.getElementById("popup_product").style.display = "block";
            document.getElementById("bgoverlay").style.display = "block";
        }
        function ClosePopup() {
            document.getElementById("popup_product").style.display = "none";
            document.getElementById("bgoverlay").style.display = "none";
        }

    //responsive side/top navbar
        $(document).ready(function(){
            $('.nav-btn').click(function(){
                $('.mobile-nav-items').toggleClass('active')
            });
        });

    //content display
        //banner
        $(document).ready(function(){
            $('.banner_selector').click(function(){
                $('#content_page').load('admin/admin.banner.html');
                $('.selector').removeClass('selected')
                $('.banner_selector').toggleClass('selected')
            });
        });

        //products
        $(document).ready(function(){
            $('.products_selector').click(function(){
                $('#content_page').load('admin/admin.products.html');
                $('.selector').removeClass('selected')
                $('.products_selector').toggleClass('selected')
            });
        });

        //shoemakers
        $(document).ready(function(){
            $('.shoemakers_selector').click(function(){
                $('#content_page').load('admin/admin.shoemakers.html');
                $('.selector').removeClass('selected')
                $('.shoemakers_selector').toggleClass('selected')
            });
        });

        //reports
        $(document).ready(function(){
            $('.reports_selector').click(function(){
                $('#content_page').load('admin/admin.reports.html');
                $('.selector').removeClass('selected')
                $('.reports_selector').toggleClass('selected')
            });
        });

    </script>

    <!-- icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/fontawesome.min.css" >
</head>

<body>
    <span class="text-danger bg-warning fw-bolder visually-hidden" id="hiddenId"></span>
    <input type="checkbox" id="check">
<!--HEADER-->
    <header>
        <label for="check" class="sidebar-btn-label">
            <i class="bi bi-list" id="sidebar_btn"></i>
        </label>
        <div class="left-area">
            <a href="homepage.html"><img class="img-brand-logo" src="./images/Logo.png" alt=""/></a>
        </div>
        <div class="right-area">
            <a aria-current="page" href="#" class="class-right">Home</a>
            <a href="#" class="class-right"> Profile</a>
            <a href="#" class="logout-btn" ><button id="adminlogout">Logout</button></a>
        </div>

    </header>
<!--MOBILE NAVBAR-->
    <div class="mobile-nav">
        <div class="nav-bar">
            <img src="images/1.jpg" class="mobile-profile-picture" alt="">
            <i class="bi bi-list nav-btn"></i>
        </div>
        <div class="mobile-nav-items" >
            <a href="#" class="selector banner_selector">
                <i class="bi bi-newspaper"></i>
                <span>BANNER</span>
            </a>
            <a href="FullCart.html" class="selector products_selector">
                <i class="bi bi-cart4"></i>
                <span>PRODUCTS</span>
            </a>
            <a href="#" class="selector shoemakers_selector">
                <i class="bi bi-person-badge-fill"></i>
                <span>SHOEMAKERS</span>
            </a>
            <a href="#" class="selector reports_selector">
                <i class="bi bi-paperclip"></i>
                <span>REPORTS</span>
            </a>
        </div>
    </div>

<!--SIDEBAR-->
    <div class="sidebar">
        <div class="profile-info">
            <img src="images/1.jpg" class="profile-picture" alt="">
            <h5>MASIDO</h5>
        </div id="sidebar_buttons">

        <a href="#" class="selector banner_selector">
            <i class="bi bi-newspaper"></i>
            <span>BANNER</span>
        </a>
        <a href="#" class="selector products_selector">
            <i class="bi bi-cart4"></i>
            <span>PRODUCTS</span>
        </a>
        <a href="#" class="selector shoemakers_selector">
            <i class="bi bi-person-badge-fill"></i>
            <span>SHOEMAKERS</span>
        </a>
        <a href="#" class="selector reports_selector">
            <i class="bi bi-paperclip"></i>
            <span>REPORTS</span>
        </a>
    </div>

    <!--CONTENT-->

    <div class="bgoverlay" id="bgoverlay">
    </div>
    <div class="content" id="content_page">
        <div class="analytics-content" id="reports_page">
            <div class="top-level">
                <div class="top-title">
                    <h1>Viewer Report.</h1>
                </div>
            </div>

            <!--PAGE VISITS-->
            <div class="accordion">
                <input id="report-op1" name=" " type="radio" checked="checked" onclick="dailyViews()">
                <label style="background:rgb(34, 34, 34)" for="report-op1" class="accordion_item" ><p>DAILY</p></label>
                
                <input id="report-op2" name=" " type="radio" onclick="weeklyViews()">
                <label style="background:rgb(61, 61, 61)" for="report-op2" class="accordion_item">
                <p>WEEKLY</p></label>
                
                <input id="report-op3" name=" " type="radio" onclick="monthlyViews()">
                <label style="background:rgb(83,83,83)" for="report-op3" class="accordion_item">
                <p>MONTHLY</p></label>
            </div>

            <div class="reports-visits" id="reports_visits">

                <h5 class="graph-title">Daily Page Hits</h5>
                <div id="bar-chart"></div>
            </div>

            <!--PRODUCTS-->
            <div class="top-level">
                <div class="top-title">
                    <h1 style="margin-top: 75px;">Product Report.</h1>
                </div>
            </div>

            <h5 class="graph-title" style="margin-top: 75px;">Orders Over Time</h5>
            <div id="line-chart"></div>

            <!--USERS-->
            <div class="top-level">
                <div class="top-title">
                    <h1>User Report.</h1>
                </div>
            </div>

            <div class="accordion">
                <input id="user-op1" name=" " type="radio" checked="checked" onclick="customerAge()">
                <label style="background:rgb(34, 34, 34)" for="user-op1" class="accordion_item" ><p>AGE</p></label>
                
                <input id="user-op2" name=" " type="radio" onclick="customerGender()">
                <label style="background:rgb(61, 61, 61)" for="user-op2" class="accordion_item">
                <p>GENDER</p></label>
            </div>

            <h5 class="graph-title">Online Hub Customers</h5>            <div class="reports-users" style="margin-bottom: 50px;">
                <div id="pie-chart"></div>
            </div>

        </div>
    </div>
        
    <p id="adminhiddenId"></p>

    <script src="https://www.gstatic.com/firebasejs/8.4.2/firebase.js"></script>

    <script src="fireConfig.js"></script>

    <script src="adminAccess.js"></script>
</body>
</html>