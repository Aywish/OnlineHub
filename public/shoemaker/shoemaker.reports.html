<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title class="customer-name">Made in Marikina - Products</title>
    
        <!-- bootstrap and css -->
        <link type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    
        <!-- jQuery and js-->
        <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
        <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <script>
            /*INFOBOX*/
            document.getElementsByClassName('info-box-container')[0].addEventListener('click', changeActive);

            function changeActive() {
                let target = arguments[0].target;
                let className = target.className;
                let tagName = target.tagName;
                let infobox;
                if (tagName === "svg") {
                    infobox = target.parentElement;
                } else if (tagName === "path") {
                    infobox = target.parentElement.parentElement;
                } else if (className === "info-box-container") {
                    return;
                } else if (className.includes("info-box")) {
                    infobox = target;
                } else if (className === "value" || className === "header") {
                    infobox = target.parentElement.parentElement;
                } else if (className === "info-content") {
                    infobox = target.parentElement;
                } else {
                    return;
                }
                [...infobox.parentElement.children].forEach(x => x.className = "info-box");
                infobox.classList.add('info-box');
                infobox.classList.add('active');
            }

            /* STATISTICS */
            var data = {
                labels: ["Nov", "Dec", "Jan", "Feb", "Mar", "Apr", "May", "Jun"],
                datasets: [{
                        label: 'A',
                        backgroundColor: "rgb(51, 38, 174)",
                        data: [500, 300, 800, 150, 200, 150, 800, 200, 800, 100],
                    },
                    {
                        label: 'B',
                        backgroundColor: "rgb(51, 38, 174)",
                        data: [300, 400, 150, 200, 100, 500, 400, 350, 700, 200],
                    },
                    {
                        label: 'C',
                        backgroundColor: "rgb(51, 38, 174)",
                        data: [450, 700, 300, 650, 150, 300, 600, 450, 835, 75],
                    },
                ]
            };

            var options = {
                cornerRadius: 0,
                maintainAspectRatio: false,
                legend: {
                    display: false,
                    position: 'bottom',
                    labels: {
                        fontColor: "rgba(0,0,0, 0.5)",
                    }
                },
                scales: {
                    yAxes: [{
                        gridLines: {
                            display: false,
                        },
                        ticks: {
                            maxTicksLimit: 5,
                        }
                    }],
                    xAxes: [{
                        barPercentage: 0.25,
                        gridLines: {
                            display: false,
                        },
                    }]
                }
            };

            var ctx = document.getElementById('statisticsChart').getContext('2d');
            var myLineChart = new Chart(ctx, {
                type: 'bar',
                data: data,
                options: options
            });

            /*SPENT TIME*/
            var gradientFill = ctx.createLinearGradient(0, 0, 0, 125);
            gradientFill.addColorStop(0, "rgba(244,246,255, 1)");
            gradientFill.addColorStop(1, "rgba(255,255,255, 1)");


            var data = {
                labels: ["", "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat", ""],
                datasets: [{
                        backgroundColor: "rgba(0,0,0,0)",
                        borderColor: "rgba(255,57,43, 1)",
                        borderWidth: 2,
                        data: [5, 3, 8, 6, 10, 8, 13],
                    },
                    {
                        backgroundColor: "rgba(0,0,0,0)",
                        borderColor: "#f0f2fa",
                        borderWidth: 1,
                        fill: true,
                        backgroundColor: gradientFill,
                        data: [3, 5, 4, 10, 8, 9, 3, 15, 14, 17],
                    }
                ]
            };

            Chart.pluginService.register({
                beforeRender: function(chart) {
                    if (chart.config.options.showAllTooltips) {
                        // create an array of tooltips
                        // we can't use the chart tooltip because there is only one tooltip per chart
                        chart.pluginTooltips = [];
                        chart.config.data.datasets.forEach(function(dataset, i) {
                            chart.getDatasetMeta(i).data.forEach(function(sector, j) {
                                chart.pluginTooltips.push(new Chart.Tooltip({
                                    _chart: chart.chart,
                                    _chartInstance: chart,
                                    _data: chart.data,
                                    _options: chart.options.tooltips,
                                    _active: [sector]
                                }, chart));
                            });
                        });

                        // turn off normal tooltips
                        chart.options.tooltips.enabled = false;
                    }
                },
                afterDraw: function(chart, easing) {
                    if (chart.config.options.showAllTooltips) {
                        // we don't want the permanent tooltips to animate, so don't do anything till the animation runs atleast once
                        if (!chart.allTooltipsOnce) {
                            if (easing !== 1)
                                return;
                            chart.allTooltipsOnce = true;
                        }

                        // turn on tooltips
                        chart.options.tooltips.enabled = true;
                        Chart.helpers.each(chart.pluginTooltips, function(tooltip, i) {
                            if (i !== 6) return;
                            tooltip.initialize();
                            tooltip.update();
                            // we don't actually need this since we are not animating tooltips
                            tooltip.pivot();
                            tooltip.transition(easing).draw();
                        });
                        chart.options.tooltips.enabled = false;
                    }
                }
            });

            var ctx = document.getElementById('spentTimeChart').getContext('2d');
            var myLineChart = new Chart(ctx, {
                type: 'line',
                data: data,
                options: options
            });

        </script>

        <!-- icons -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.0/font/bootstrap-icons.css">
    
    </head>
    <body>
        <input type="checkbox" id="showReport">
        <div class="top-level">
            <div class="top-title">
                <h1>Reports.</h1>
            </div>
            <div class="top-buttons">
                <label for="showReport" class="buttonss">
                        <i class="bi bi-search"></i>
                        <span>SEARCH</span>
                </label>
                <br>
                <label for="downloadNow" class="buttonss">
                        <i class="bi bi-download"></i>
                        <span>DOWNLOAD</span>
                </label>
            </div>
        </div>

        <div class="analytics-content">
            <div class="info-box-container">
                <div class="info-box">
                    <svg width="131" height="95" viewBox="0 0 131 95" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M126.202 30.503C100.847 39.2296 97.0315 2.99999 58.9733 3C26.6742 3 29.1336 43.4671 4.65875 54.8462V95H126.202V30.503Z"
                            fill="#F1F3FF" />
                        <path
                            d="M1.74817 56.1231C29.0539 46.5109 25.2615 3.07825 58.6351 3.07825C98.456 3.07824 100.731 42.9509 129.554 29.0667"
                            stroke="#3326AE" stroke-width="5" />
                    </svg>
                    <div class="info-content">
                        <span class="header">visitors</span>
                        <span class="value">10,320</span>
                    </div>

                </div>
                <div class="info-box">
                    <svg width="126" height="96" viewBox="0 0 126 96" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M47.1375 50.071C18.479 50.071 16.343 3.07825 0.678741 3.07825V95.2837H123.679V15.0044C123.679 15.0044 118.161 8.24033 105.522 8.24033C79.89 8.24033 75.796 50.071 47.1375 50.071Z"
                            fill="#F1F3FF" />
                        <path
                            d="M0.678741 3.07825C16.343 3.07825 18.479 50.071 47.1375 50.071C75.796 50.071 79.89 8.24033 105.522 8.24033C118.161 8.24033 123.679 15.0044 123.679 15.0044"
                            stroke="#3326AE" stroke-width="5" />
                    </svg>

                    <div class="info-content">
                        <span class="header">customers</span>
                        <span class="value">4,628</span>
                    </div>
                </div>
                <div class="info-box active">
                    <svg width="130" height="91" viewBox="0 0 130 91" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M103.579 21.0406C78.8364 21.0406 75.6324 0.570251 48.3979 0.570251C19.3288 0.570251 24.7401 23.1087 2.8292 24.3678V90.1057H125.295V14.0066C121.79 16.8538 114.739 21.0406 103.579 21.0406Z"
                            fill="#F1F3FF" />
                        <path
                            d="M0.693176 27.0927C24.9016 27.0927 18.3155 3.2403 48.2199 3.2403C75.4544 3.2403 78.6584 23.7106 103.401 23.7106C120.311 23.7106 127.787 14.0985 127.787 14.0985"
                            stroke="#3326AE" stroke-width="5" stroke-linejoin="bevel" />
                    </svg>
                    <div class="info-content">
                        <span class="header">orders</span>
                        <span class="value">2,980</span>
                    </div>
                </div>
            </div>

            <div class="statistics">
                <p class="chart-title">Statistics</p>
                <select>
                    <option value="Year">Year</option>
                    <option value="Month">Month</option>
                    <option value="Day">Day</option>
                </select>
                <!-- For resizing issues -->
                <div class="chartContainer">
                    <canvas id="statisticsChart"></canvas>
                </div>
            </div>

            <div class="spentTime">
                <p class="chart-title">Spent time</p>
                <!-- For resizing issues -->
                <div class="chartContainer">
                    <canvas id="spentTimeChart" style="background-color: rgba(0,0,0, .0);"></canvas>
                </div>
            </div>

        </div>

        <!--SEARCH SIDEAR-->
        <div class="reports-sidebar">
            <div class="dropdown">
                <div class="dropdown-select">
                    <span>REPORT CONFIGURATIONS</span>
                    <i class="bi bi-caret-down-fill"></i>
                    <div class="sub-menu">
                        <ul>
                            <li>Sample 1</li>
                            <li>Sample 2</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </body>

</html>